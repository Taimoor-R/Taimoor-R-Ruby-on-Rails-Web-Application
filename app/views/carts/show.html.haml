%body
  / Section
  - if @cart.line_items.length() == 0
    %header.bg-dark.py-4
      .container.px-4.px-lg-5.my-5
        %h2.display-4.fw-bolder{:style => "color:#fb5195"}
          %center Your Cart is Empty
    %section.py-5
      .container.px-4.px-lg-5.mt-5
        %center
          %img{:alt => "Italian Trulli", :src => "https://c.tenor.com/An_jX6JYJ-AAAAAC/oh-no.gif"}/
  - else
    %header.bg-dark.py-5
      .container.px-4.px-lg-5.my-5
        .text-center.text-white
          %h2.display-4.fw-bolder Your Cart
          %p.lead.fw-normal.text-white-50.mb-0 Happy Shopping !!!
    %section.py-5
      .container.px-4.px-lg-5.mt-5
      %table.table.table-active.table-striped
        %thead
          %tr
            %th{:scope => "col"} Items
            %th{:scope => "col"}
            %th{:scope => "col"} Title
            %th{:scope => "col"} Price

        %tbody
          - @cart.line_items.each do |item|
            %tr
              %td
                = item.quantity
              %td
                = image_tag(item.product.image_url, class: 'icon_image', width: 100, height:100)
              %td
                = item.product.title
              %td
                = number_to_currency(item.product.price)
          %tr.total_line
            %td{:colspan => "2"} Total
            %td{:colspan => "1"}
            %td.total_cell= number_to_currency(@cart.total_price)

    = button_to("Empty cart", @cart, method: :delete, data: { confirm: 'Are you sure?' } , class: "btn btn-outline-dark mt-auto")

    = link_to 'Edit', edit_cart_path(@cart)
    \|
    = link_to 'Back', carts_path
